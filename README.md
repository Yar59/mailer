# Скрипт для рассылки писем
Данный скрипт способен создавать почтовую рассылку(в том числе отложенную) по списку подписчиков.

Письмо генерируется из `HTML`-шаблона

## Установка и запуск
Перед использованием программы необходимо:
- Склонировать репозиторий к себе на компьютер
- Создать брокера в Redis и получить его URL
- Вам понадобится рабочий идентификатор отслеживания Google аналитики (tracking ID, обычно выглядит как UA-XXXXXXX). Если у вас ещё ничего этого нет, то можно почитать [инструкции](https://support.google.com/analytics/answer/9304153?hl=ru&visit_id=638123500048852685-424447073&rd=2) и быстро всё настроить ☺
- Создать файл `.env` в папке с проектом и заполнить его следующими данными:
```
SECRET_KEY=секретный ключ проекта
ALLOWED_HOSTS=Список строк, представляющих имена хостов/доменов, которые может обслуживать этот сайт Django
DEBUG=True или False для вкл/выкл. режима отладки Django
REDIS_URL=ссылка на брокера Redis в виде redis://<username>:<password>@<address>:<port>
EMAIL_HOST=адрес сервера почтового сервиса
EMAIL_PORT=порт сервера почтового сервиса
EMAIL_HOST_USER=логин пользователя почтового сервиса
EMAIL_HOST_PASSWORD=пароль пользователя почтового сервиса
TRACKING_ID=идентификатор отслеживания Google аналитики
```
- [Python 2.7](https://www.python.org/downloads/) должен быть установлен
- Установить зависимости командой:
```commandline
pip install -r requirements.txt
```
- Создать базу данных SQLite командой:
```commandline
python manage.py migrate
```
- Создать суперпользователя командой:
```commandline
python manage.py createsuperuser
```
- Заполнить базу данных подписчиками
- Запустить разработческий сервер командой:
```commandline
python manage.py runserver
```

## Использование

Если запущен разработческий сервер, то по адресу http://127.0.0.1:8000/ будет доступна страница создания рассылки.

Для кастомизации почтового сообщения можно изменить шаблон `message_template.html`, который находится в папке `templates`.